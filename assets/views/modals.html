<script type=text/ng-template id=assets/views/modals/account-settings.html><md-dialog class="md-modal md-modal-wide account-settings-modal"> <div class="md-modal-header"> <div class="md-modal-avatar"> <img class="img-responsive" ng-src="{{ users.getAvatar() }}"/> </div> <div class="name">{{ users.current.first_name }} {{ users.current.last_name }}</div> <div class="email">{{:: users.current.email }}</div> </div> <div class="md-modal-nav"> <div ng-click="activeTab = 'settings'" ng-class="{ active: activeTab === 'settings' }" class="md-modal-nav-item"><i class="icon icon-params"></i></div> <div ng-click="activeTab = 'avatar'" ng-class="{ active: activeTab === 'avatar' }" class="md-modal-nav-item"><i class="icon icon-emo-sunglasses"></i></div> <div ng-click="activeTab = 'password'" ng-class="{ active: activeTab === 'password' }" class="md-modal-nav-item"><i class="icon icon-lock-filled"></i></div> </div> <div class="md-modal-tab" ng-class="{ open: activeTab === 'settings' }"> <md-input-container> <label>{{ 'username' | translate }}</label> <input class="username" type="text" ng-model="users.accountSettings.username"> </md-input-container> <md-input-container> <label>{{ 'firstName' | translate }}</label> <input type="text" ng-model="users.accountSettings.first_name"> </md-input-container> <md-input-container> <label>{{ 'lastName' | translate }}</label> <input type="text" ng-model="users.accountSettings.last_name"> </md-input-container> <md-select placeholder="{{:: 'gender' | translate }}" ng-model="users.accountSettings.gender"> <md-option value="male" translate>{{:: 'male' | translate }}</md-option> <md-option value="female" translate>{{:: 'female' | translate }}</md-option> <md-option value="" translate>{{:: 'notSaying' | translate }}</md-option> </md-select> <div class="buttons"> <md-button ng-click="users.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button ng-click="users.updateAccountSettings()" class="md-raised md-primary">{{:: 'confirm' | translate }}</md-button> </div> </div> <div class="md-modal-tab" ng-class="{ open: activeTab === 'password' }"> <form ng-submit="users.changePassword()"> <md-input-container ng-if="users.current.password"> <label>{{ 'oldPassword' | translate }}</label> <input type="password" ng-model="users.changePasswordModel.oldPassword"> </md-input-container> <md-input-container> <label>{{ 'newPassword' | translate }}</label> <input type="password" ng-model="users.changePasswordModel.newPassword"> </md-input-container> <md-input-container> <label>{{ 'confirmPassword' | translate }}</label> <input type="password" ng-model="users.changePasswordModel.newPassword_confirmation"> </md-input-container> <div class="buttons"> <md-button ng-click="users.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button type="submit" class="md-raised md-primary">{{:: 'change' | translate }}</md-button> </div> </form> </div> <div class="md-modal-tab avatar-tab" ng-class="{ open: activeTab === 'avatar' }"> <img class="img-responsive" ng-src="{{ users.getAvatar() }}"/> <p>{{:: 'avatarAcceptedFormats' | translate }}</p> <p>{{:: 'avatarResizeExpl' | translate }}</p> <div class="buttons"> <md-button ng-click="users.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button ng-click="users.removeAvatar()">{{:: 'remove' | translate }}</md-button> <md-button ng-file-select ng-file-change="upload($files)" accept="image/*" ngf-accept="'.png,.jpg'" class="md-raised md-primary"> <i class="icon icon-upload-cloud"></i> {{:: 'upload' | translate }} </md-button> </div> </div> </md-dialog></script><div id=upload-progress-panel class=md-whiteframe-z2 ed-upload-panel-visibility ng-if="utils.stateIs('home')"><div class=header><i class="mdi mdi-file-upload"></i><div class=text><span ng-show=!uploadsInProgress>{{:: 'uploadsComplete' | translate }}</span> <span ng-show=uploadsInProgress>{{:: 'uploadsInProgress' | translate }}</span></div><div class=close-panel><i class="icon icon-cancel"></i></div></div><div ng-if=!uploadsInProgress class=upload-complete-container><div ng-if=uploadedFiles.length><i class="icon icon-check success"></i><h2>{{:: 'uploadComplete' | translate }}</h2></div><div ng-if=!uploadedFiles.length><i class="icon icon-cancel fail"></i><h2>{{:: 'noPhotosUploaded' | translate }}</h2><p class=small-p>{{:: 'photosValidationFailed' | translate }}</p></div><p ng-if=!users.current><a ui-sref=register>{{:: 'register' | translate }}</a> {{:: 'or' | translate }} <a ui-sref=login class=text-lowercase>{{:: 'login' | translate }}</a> {{:: 'toSaveManageAndEdit' | translate }}</p><p ng-if=users.current>{{:: 'goTo' | translate }} <a ui-sref=dashboard.albums class=text-lowercase>{{:: 'dashboard' | translate }}</a> {{:: 'toSaveManageAndEdit' | translate }}</p><div class=uploads-preview ng-class="{ 'single-file': uploadedFiles.length === 1 }" ng-if=uploadedFiles.length><div class=preview ng-repeat="file in uploadedFiles" ng-click=assignSelectedFile(file) ng-class="{ active: selectedFile === file }"><img ng-src="{{ file.mediumThumbnail }}" alt="{{ file.name }}"></div></div><div class=links-container ng-if=uploadedFiles.length><md-select placeholder=Type ng-model=linkSelectModel.type><md-option ng-repeat="type in links.getLinksFor(selectedFile)" value="{{ type }}">{{ utils.trans(type) }}</md-option></md-select><md-select placeholder=Size ng-model=links.activeSize ng-disabled="linkSelectModel.type === 'linkToPhoto' || linkSelectModel.type === 'downloadLink'"><md-option ng-repeat="(name, method) in links.linkSizes" value="{{ method }}">{{ utils.trans(name) }}</md-option></md-select><input class=link-input onclick=this.select() value="{{ links[linkSelectModel.type](selectedFile, true) }}" readonly></div></div><table class="table table-condensed files-list" ng-if=uploadsInProgress><tbody><tr ng-repeat="file in uploadHistory"><td class=file-name><i class=mdi-image></i><div class=name>{{ file.name }}</div></td><td class=file-size><span ng-if=!file.uploaded>{{ file.bytesUploaded }} /</span> {{ utils.formatFileSize(file.size) }} <span class=uploaded ng-if="file.uploaded && ! file.rejected">{{:: 'uploaded' | translate }}</span></td><td class=file-upload-progress><md-progress-linear ng-show=!file.uploaded md-mode=determinate ng-value=file.percentageUploaded></md-progress-linear><div ng-show=file.uploaded><div ng-show=!file.rejected>{{:: 'uploaded' | translate }}</div><div ng-show=file.rejected class=rejected>{{:: 'rejected' | translate }}</div></div></td></tr></tbody></table></div><script type=text/ng-template id=assets/views/modals/links.html><md-dialog class="md-modal links-modal"> <div class="md-modal-header"> <h1>{{:: 'links' | translate }}</h1> <div ng-click="close()" class="md-close-modal"><i class="icon icon-cancel"></i></div> </div> <ed-shareable-links ed-generate-nav="shareable.folder_id"></ed-shareable-links> </md-dialog></script><script type=text/ng-template id=assets/views/modals/move.html><md-dialog class="md-modal move-photo-modal"> <div class="md-modal-header"> <h1>{{:: 'moveTo' | translate }}</h1> <div ng-click="photos.closeModal()" class="md-close-modal"><i class="mdi mdi-close"></i></div> </div> <md-select placeholder="Select an album" ng-model="selectedFolder"> <md-option ng-repeat="folder in folders.available" ng-if="folder.id != selectedItem.get('folder_id')" value="{{ folder.id }}">{{ folder.name }}</md-option> </md-select> <div class="buttons"> <md-button ng-click="photos.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button ng-click="photos.moveToFolder(selectedItem.get(), selectedFolder)" class="md-raised md-primary">{{:: 'move' | translate }}</md-button> </div> </md-dialog></script><script type=text/ng-template id=assets/views/modals/renamePhoto.html><md-dialog class="md-modal md-modal-wide rename-photo-modal"> <div class="md-modal-header"> <h1>{{:: 'rename' | translate }} {{:: selectedItem.get('name') }}</h1> <div ng-click="photos.closeModal()" class="md-close-modal"><i class="mdi mdi-close"></i></div> </div> <form ng-submit="photos.rename(selectedItem.get('id'))"> <md-input-container> <label for="photo-name">{{:: 'name' | translate }}</label> <input id="photo-name" type="text" ng-model="photos.photoNameModel" required> <div class="md-modal-error"></div> </md-input-container> <div class="buttons"> <md-button type="button" ng-click="photos.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button type="submit" ng-disabled="!photos.photoNameModel" class="md-raised md-primary">{{:: 'rename' | translate }}</md-button> </div> </form> </md-dialog></script><script type=text/ng-template id=assets/views/modals/share.html><md-dialog class="md-modal md-modal-wide share-modal"> <div class="md-modal-header"> <h1>{{:: 'share' | translate }} {{:: shareable.name }} <span ng-if="rawType == 'folder'">{{ type }}</span></h1> <div ng-click="closeModal()" class="md-close-modal"><i class="icon icon-cancel"></i></div> </div> <md-input-container> <label>{{:: 'linkToShare' | translate }}</label> <input id="share-modal-input" readonly="true" type="text" ng-model="link" ed-select-on-clickelectedItem> </md-input-container> <ed-share-icons></ed-share-icons> <div class="password-info"> <i class="mdi mdi-lock-open"></i> <div ng-if="!shareable.password">{{:: 'notPassProtected' | translate }} {{:: type }}. <span ng-click="togglePasswordContainer()" class="link">{{:: 'addPassword' | translate }}</span></div> <div ng-if="shareable.password">{{:: 'this' | translate }} {{:: type }} {{:: 'passProtected' | translate }}. <span ng-click="removePassword()" class="link">{{:: 'remove' | translate }}</span></div> </div> <section class="password-container" ng-if="passwordContainerVisible"> <md-input-container> <label>{{:: 'password' | translate }}</label> <input type="password" ng-model="password.value"> </md-input-container> <div class="buttons"> <md-button ng-click="closePasswordContainer()">{{:: 'cancel' | translate }}</md-button> <md-button ng-disabled="!password.value" ng-click="addPassword()" class="md-primary md-raised">{{:: 'add' | translate }}</md-button> </div> </section> <div class="buttons" ng-hide="passwordContainerVisible"> <md-button ng-click="closeModal()" class="md-raised md-primary">{{:: 'done' | translate }}</md-button> </div> </md-dialog></script>